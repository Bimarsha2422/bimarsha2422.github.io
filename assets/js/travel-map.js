function initTravelMap(e,t=""){if("undefined"==typeof L)return;const o=L.map("travel-map",{center:[20,0],zoom:2,scrollWheelZoom:!1});fetch("https://raw.githubusercontent.com/datasets/geo-countries/master/data/countries.geojson").then((e=>e.json())).then((n=>{function a(){const e=o.getZoom(),t=e<3?.3:e<5?.7:1.2;r.setStyle({weight:t}),r.eachLayer((t=>{const o=t.getTooltip();o&&o._container&&(o._container.style.opacity=e>=4?.8:0,o._container.style.fontSize=e>=6?"10px":"8px")}))}const r=L.geoJSON(n,{style:{color:"#555555",weight:.6,fillColor:"#ffffff",fillOpacity:1},onEachFeature:(e,t)=>{e.properties&&e.properties.ADMIN&&t.bindTooltip(e.properties.ADMIN,{permanent:!0,direction:"center",className:"country-label",opacity:0})}}).addTo(o),i=`${t}/assets/img/travel/`;e.forEach(((e,t)=>{L.marker([e.lat,e.lon]).addTo(o).on("click",(()=>{if(!e.images||!e.images.length)return;const o=`travel-gallery-${t}`,n=e.images.map((t=>`<a href="${t.startsWith("http")?t:`${i}${e.slug}/${t}`}" class="glightbox" data-gallery="${o}"></a>`)).join(""),a=document.createElement("div");a.style.display="none",a.innerHTML=n,document.body.appendChild(a);const r=GLightbox({selector:`a[data-gallery='${o}']`});r.open(),r.on("close",(()=>a.remove()))}))})),a(),o.on("zoomend",a)}))}